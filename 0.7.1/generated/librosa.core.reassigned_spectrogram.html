

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>librosa.core.reassigned_spectrogram &mdash; librosa 0.7.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'0.7.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="librosa.core.cqt" href="librosa.core.cqt.html" />
    <link rel="prev" title="librosa.core.istft" href="librosa.core.istft.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> librosa
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../core.html">Core IO and DSP</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core.html#audio-processing">Audio processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core.html#spectral-representations">Spectral representations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="librosa.core.stft.html">librosa.core.stft</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.istft.html">librosa.core.istft</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">librosa.core.reassigned_spectrogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.cqt.html">librosa.core.cqt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.icqt.html">librosa.core.icqt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.hybrid_cqt.html">librosa.core.hybrid_cqt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.pseudo_cqt.html">librosa.core.pseudo_cqt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.iirt.html">librosa.core.iirt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.fmt.html">librosa.core.fmt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.griffinlim.html">librosa.core.griffinlim</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.griffinlim_cqt.html">librosa.core.griffinlim_cqt</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.interp_harmonics.html">librosa.core.interp_harmonics</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.salience.html">librosa.core.salience</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.phase_vocoder.html">librosa.core.phase_vocoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.magphase.html">librosa.core.magphase</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.get_fftlib.html">librosa.core.get_fftlib</a></li>
<li class="toctree-l3"><a class="reference internal" href="librosa.core.set_fftlib.html">librosa.core.set_fftlib</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#magnitude-scaling">Magnitude scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#time-and-frequency-conversion">Time and frequency conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#pitch-and-tuning">Pitch and tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../display.html">Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature.html">Feature extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onset.html">Onset detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../beat.html">Beat and tempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../decompose.html">Spectrogram decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../effects.html">Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output.html">Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../segment.html">Temporal segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sequence.html">Sequential modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../util.html">Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filters.html">Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cache.html">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ioformats.html">Advanced I/O Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced.html">Advanced examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">librosa</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../core.html">Core IO and DSP</a> &raquo;</li>
        
      <li>librosa.core.reassigned_spectrogram</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/librosa.core.reassigned_spectrogram.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="librosa-core-reassigned-spectrogram">
<h1>librosa.core.reassigned_spectrogram<a class="headerlink" href="#librosa-core-reassigned-spectrogram" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="librosa.core.reassigned_spectrogram">
<code class="descclassname">librosa.core.</code><code class="descname">reassigned_spectrogram</code><span class="sig-paren">(</span><em>y</em>, <em>sr=22050</em>, <em>S=None</em>, <em>n_fft=2048</em>, <em>hop_length=None</em>, <em>win_length=None</em>, <em>window='hann'</em>, <em>center=True</em>, <em>reassign_frequencies=True</em>, <em>reassign_times=True</em>, <em>ref_power=1e-06</em>, <em>fill_nan=False</em>, <em>clip=True</em>, <em>dtype=&lt;class 'numpy.complex64'&gt;</em>, <em>pad_mode='reflect'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/librosa/core/spectrum.html#reassigned_spectrogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#librosa.core.reassigned_spectrogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Time-frequency reassigned spectrogram.</p>
<p>The reassignment vectors are calculated using equations 5.20 and 5.23 in
<a class="reference internal" href="#r79b930005248-1" id="id1">[1]</a>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\hat{\omega} = \omega - \Im\left(\frac{S_{dh}}{S_h}\right) \\
\hat{t} = t + \Re\left(\frac{S_{th}}{S_h}\right)\end{split}\]</div>
<p>where <em class="xref py py-obj">S_h</em> is the complex STFT calculated using the original window,
<em class="xref py py-obj">S_dh</em> is the complex STFT calculated using the derivative of the original
window, and <em class="xref py py-obj">S_th</em> is the complex STFT calculated using the original window
multiplied by the time offset from the window center. See <a class="reference internal" href="#r79b930005248-2" id="id2">[2]</a> for
additional algorithms, and <a class="reference internal" href="#r79b930005248-3" id="id3">[3]</a> and <a class="reference internal" href="#r79b930005248-4" id="id4">[4]</a> for history and discussion of the
method.</p>
<p>It is recommended to use <em class="xref py py-obj">center=False</em> with this function rather than the
librosa default <em class="xref py py-obj">True</em>. Unlike <a class="reference internal" href="librosa.core.stft.html#librosa.core.stft" title="librosa.core.stft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stft</span></code></a>, reassigned times are not aligned to
the left or center of each frame, so padding the signal does not affect the
meaning of the reassigned times. However, reassignment assumes that the
energy in each FFT bin is associated with exactly one signal component and
impulse event. The default <em class="xref py py-obj">center=True</em> with reflection padding can thus
invalidate the reassigned estimates in the half-reflected frames at the
beginning and end of the signal.</p>
<p>If <em class="xref py py-obj">reassign_times</em> is <em class="xref py py-obj">False</em>, the frame times that are returned will be
aligned to the left or center of the frame, depending on the value of
<em class="xref py py-obj">center</em>. In this case, if <em class="xref py py-obj">center</em> is <em class="xref py py-obj">True</em>, then <em class="xref py py-obj">pad_mode=”wrap”</em> is
recommended for valid estimation of the instantaneous frequencies in the
boundary frames.</p>
<table class="docutils citation" frame="void" id="r79b930005248-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Flandrin, P., Auger, F., &amp; Chassande-Mottin, E. (2002).
Time-Frequency reassignment: From principles to algorithms. In Applications
in Time-Frequency Signal Processing (Vol. 10, pp. 179-204). CRC Press.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r79b930005248-2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Fulop, S. A., &amp; Fitz, K. (2006). Algorithms for computing the
time-corrected instantaneous frequency (reassigned) spectrogram, with
applications. The Journal of the Acoustical Society of America, 119(1),
360. doi:10.1121/1.2133000</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r79b930005248-3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>Auger, F., Flandrin, P., Lin, Y.-T., McLaughlin, S., Meignen, S.,
Oberlin, T., &amp; Wu, H.-T. (2013). Time-Frequency Reassignment and
Synchrosqueezing: An Overview. IEEE Signal Processing Magazine, 30(6),
32-41. doi:10.1109/MSP.2013.2265316</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r79b930005248-4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td>Hainsworth, S., Macleod, M. (2003). Time-frequency reassignment: a
review and analysis. Tech. Rep. CUED/FINFENG/TR.459, Cambridge University
Engineering Department</td></tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>y</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray [shape=(n,)], real-valued</span></dt>
<dd><p class="first last">audio time series</p>
</dd>
<dt><strong>sr</strong> <span class="classifier-delimiter">:</span> <span class="classifier">number &gt; 0 [scalar]</span></dt>
<dd><p class="first last">sampling rate of <em class="xref py py-obj">y</em></p>
</dd>
<dt><strong>S</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray [shape=(d, t)] or None</span></dt>
<dd><p class="first last">(optional) complex STFT calculated using the other arguments provided
to <a class="reference internal" href="#librosa.core.reassigned_spectrogram" title="librosa.core.reassigned_spectrogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reassigned_spectrogram</span></code></a></p>
</dd>
<dt><strong>n_fft</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int &gt; 0 [scalar]</span></dt>
<dd><p class="first last">FFT window size. Defaults to 2048.</p>
</dd>
<dt><strong>hop_length</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int &gt; 0 [scalar]</span></dt>
<dd><p class="first last">hop length, number samples between subsequent frames.
If not supplied, defaults to <em class="xref py py-obj">win_length / 4</em>.</p>
</dd>
<dt><strong>win_length</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int &gt; 0, &lt;= n_fft</span></dt>
<dd><p class="first last">Window length. Defaults to <em class="xref py py-obj">n_fft</em>.
See <a class="reference internal" href="librosa.core.stft.html#librosa.core.stft" title="librosa.core.stft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stft</span></code></a> for details.</p>
</dd>
<dt><strong>window</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, tuple, number, function, or np.ndarray [shape=(n_fft,)]</span></dt>
<dd><ul class="first simple">
<li>a window specification (string, tuple, number);
see <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.get_window.html#scipy.signal.get_window" title="(in SciPy v1.3.1)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.signal.get_window</span></code></a></li>
<li>a window function, such as <code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.signal.hanning</span></code></li>
<li>a user-specified window vector of length <em class="xref py py-obj">n_fft</em></li>
</ul>
<p class="last">See <a class="reference internal" href="librosa.core.stft.html#librosa.core.stft" title="librosa.core.stft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stft</span></code></a> for details.</p>
</dd>
<dt><strong>center</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><ul class="first last simple">
<li>If <em class="xref py py-obj">True</em> (default), the signal <em class="xref py py-obj">y</em> is padded so that frame
<em class="xref py py-obj">D[:, t]</em> is centered at <em class="xref py py-obj">y[t * hop_length]</em>.</li>
<li>If <em class="xref py py-obj">False</em>, then <em class="xref py py-obj">D[:, t]</em> begins at <em class="xref py py-obj">y[t * hop_length]</em></li>
</ul>
</dd>
<dt><strong>reassign_frequencies</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><ul class="first last simple">
<li>If <em class="xref py py-obj">True</em> (default), the returned frequencies will be instantaneous
frequency estimates.</li>
<li>If <em class="xref py py-obj">False</em>, the returned frequencies will be a read-only view of the
STFT bin frequencies for all frames.</li>
</ul>
</dd>
<dt><strong>reassign_times</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><ul class="first last simple">
<li>If <em class="xref py py-obj">True</em> (default), the returned times will be corrected
(reassigned) time estimates for each bin.</li>
<li>If <em class="xref py py-obj">False</em>, the returned times will be a read-only view of the STFT
frame times for all bins.</li>
</ul>
</dd>
<dt><strong>ref_power</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float &gt;= 0 or callable</span></dt>
<dd><p class="first last">Minimum power threshold for estimating time-frequency reassignments.
Any bin with <em class="xref py py-obj">np.abs(S[f, t])**2 &lt; ref_power</em> will be returned as
<em class="xref py py-obj">np.nan</em> in both frequency and time, unless <em class="xref py py-obj">fill_nan</em> is <em class="xref py py-obj">True</em>. If 0
is provided, then only bins with zero power will be returned as
<em class="xref py py-obj">np.nan</em> (unless <em class="xref py py-obj">fill_nan=True</em>).</p>
</dd>
<dt><strong>fill_nan</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><ul class="first last simple">
<li>If <em class="xref py py-obj">False</em> (default), the frequency and time reassignments for bins
below the power threshold provided in <em class="xref py py-obj">ref_power</em> will be returned as
<em class="xref py py-obj">np.nan</em>.</li>
<li>If <em class="xref py py-obj">True</em>, the frequency and time reassignments for these bins will
be returned as the bin center frequencies and frame times.</li>
</ul>
</dd>
<dt><strong>clip</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><ul class="first last simple">
<li>If <em class="xref py py-obj">True</em> (default), estimated frequencies outside the range
<em class="xref py py-obj">[0, 0.5 * sr]</em> or times outside the range <em class="xref py py-obj">[0, len(y) / sr]</em> will be
clipped to those ranges.</li>
<li>If <em class="xref py py-obj">False</em>, estimated frequencies and times beyond the bounds of the
spectrogram may be returned.</li>
</ul>
</dd>
<dt><strong>dtype</strong> <span class="classifier-delimiter">:</span> <span class="classifier">numeric type</span></dt>
<dd><p class="first last">Complex numeric type for STFT calculation. Default is 64-bit complex.</p>
</dd>
<dt><strong>pad_mode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">If <em class="xref py py-obj">center=True</em>, the padding mode to use at the edges of the signal.
By default, STFT uses reflection padding.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt><strong>freqs</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray [shape=(1 + n_fft/2, t), dtype=real]</span></dt>
<dd><p class="first last">Instantaneous frequencies:
<em class="xref py py-obj">freqs[f, t]</em> is the frequency for bin <em class="xref py py-obj">f</em>, frame <em class="xref py py-obj">t</em>
If <em class="xref py py-obj">reassign_frequencies=False</em>, this will instead be a read-only array
of the same shape containing the bin center frequencies for all frames.</p>
</dd>
<dt><strong>times</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray [shape=(1 + n_fft/2, t), dtype=real]</span></dt>
<dd><p class="first last">Reassigned times:
<em class="xref py py-obj">times[f, t]</em> is the time for bin <em class="xref py py-obj">f</em>, frame <em class="xref py py-obj">t</em>
If <em class="xref py py-obj">reassign_times=False</em>, this will instead be a read-only array of
the same shape containing the frame times for all bins.</p>
</dd>
<dt><strong>mags</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray [shape=(1 + n_fft/2, t), dtype=real]</span></dt>
<dd><p class="first last">Magnitudes from short-time Fourier transform:
<em class="xref py py-obj">mags[f, t]</em> is the magnitude for bin <em class="xref py py-obj">f</em>, frame <em class="xref py py-obj">t</em></p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Warns:</th><td class="field-body"><dl class="first last docutils">
<dt>RuntimeWarning</dt>
<dd><p class="first last">Frequency or time estimates with zero support will produce a
divide-by-zero warning, and will be returned as <em class="xref py py-obj">np.nan</em> unless
<em class="xref py py-obj">fill_nan=True</em>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="librosa.core.stft.html#librosa.core.stft" title="librosa.core.stft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stft</span></code></a></dt>
<dd>Short-time Fourier Transform</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">amin</span> <span class="o">=</span> <span class="mf">1e-10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_fft</span> <span class="o">=</span> <span class="mi">64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sr</span> <span class="o">=</span> <span class="mi">4000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mf">1e-3</span> <span class="o">*</span> <span class="n">librosa</span><span class="o">.</span><span class="n">clicks</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="p">[</span><span class="mf">0.3</span><span class="p">],</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">click_duration</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">click_freq</span><span class="o">=</span><span class="mf">1200.0</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span> <span class="o">+</span>\
<span class="gp">... </span>    <span class="mf">1e-3</span> <span class="o">*</span> <span class="n">librosa</span><span class="o">.</span><span class="n">clicks</span><span class="p">(</span><span class="n">times</span><span class="o">=</span><span class="p">[</span><span class="mf">1.5</span><span class="p">],</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">click_duration</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">click_freq</span><span class="o">=</span><span class="mf">400.0</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span> <span class="o">+</span>\
<span class="gp">... </span>    <span class="mf">1e-3</span> <span class="o">*</span> <span class="n">librosa</span><span class="o">.</span><span class="n">chirp</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">1600</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">+</span>\
<span class="gp">... </span>    <span class="mf">1e-6</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">freqs</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">mags</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">reassigned_spectrogram</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">n_fft</span><span class="o">=</span><span class="n">n_fft</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mags_db</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">power_to_db</span><span class="p">(</span><span class="n">mags</span><span class="p">,</span> <span class="n">amin</span><span class="o">=</span><span class="n">amin</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">specshow</span><span class="p">(</span><span class="n">mags_db</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">hop_length</span><span class="o">=</span><span class="n">n_fft</span><span class="o">//</span><span class="mi">4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray_r&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Spectrogram&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">freqs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">mags_db</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray_r&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">clim</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">amin</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">mags_db</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Reassigned spectrogram&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="librosa.core.cqt.html" class="btn btn-neutral float-right" title="librosa.core.cqt" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="librosa.core.istft.html" class="btn btn-neutral float-left" title="librosa.core.istft" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013--2019, librosa development team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 0.7.1
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../0.4.1/index.html">0.4.1</a></dd>
            <dd><a href="../../0.4.2/index.html">0.4.2</a></dd>
            <dd><a href="../../0.4.3/index.html">0.4.3</a></dd>
            <dd><a href="../../0.5.0/index.html">0.5.0</a></dd>
            <dd><a href="../../0.5.1/index.html">0.5.1</a></dd>
            <dd><a href="../../0.6.0/index.html">0.6.0</a></dd>
            <dd><a href="../../0.6.1/index.html">0.6.1</a></dd>
            <dd><a href="../../0.6.2/index.html">0.6.2</a></dd>
            <dd><a href="../../0.6.3/index.html">0.6.3</a></dd>
            <dd><a href="../../0.7.0/index.html">0.7.0</a></dd>
            <dd><a href="librosa.core.reassigned_spectrogram.html">0.7.1</a></dd>
            <dd><a href="../../v0.1.0/index.html">v0.1.0</a></dd>
            <dd><a href="../../v0.4.0/index.html">v0.4.0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../master/generated/librosa.core.reassigned_spectrogram.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>